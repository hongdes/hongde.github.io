{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/babel-runtime/core-js/object/define-property.js","webpack:///./src/assets/js/pie.js","webpack:///src/view/backstage/pages/Pie.vue","webpack:///./src/view/backstage/pages/Pie.vue?0e08","webpack:///./src/view/backstage/pages/Pie.vue","webpack:///./node_modules/babel-runtime/helpers/classCallCheck.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/babel-runtime/helpers/createClass.js"],"names":["__webpack_require__","$Object","Object","module","exports","it","key","desc","defineProperty","default","__esModule","Pie","opt","classCallCheck_default","this","pieId","canvas","data","value","color","title","init","radius","console","log","elemet","document","createElement","appendChild","elementAndCanvasStyle","drawImg","w","style","width","h","height","cssText","join","parseInt","ctx","getContext","x","y","tempAngle","i","length","beginPath","moveTo","angle","startAngle","Math","PI","endAngle","arc","closePath","fillStyle","fill","that","addEventListener","evt","mousePos","getMousePos","rect","getBoundingClientRect","clientX","left","clientY","top","VERSION","pages_Pie","name","mounted","options","getElementById","pie","backstage_pages_Pie","render","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","_v","staticStyle","attrs","id","Component","normalizeComponent","__webpack_exports__","instance","Constructor","TypeError","$export","S","F","f","obj","_defineProperty","_defineProperty2","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype"],"mappings":"yCAAAA,EAAQ,QACR,IAAAC,EAAcD,EAAQ,QAAqBE,OAC3CC,EAAAC,QAAA,SAAAC,EAAAC,EAAAC,GACA,OAAAN,EAAAO,eAAAH,EAAAC,EAAAC,0BCHAJ,EAAAC,SAAkBK,QAAYT,EAAQ,QAA2CU,YAAA,qICK1EC,aACL,SAAAA,EAAYC,GAAIC,IAAAC,KAAAH,GACdG,KAAKF,IAAMA,EAEXE,KAAKC,MAAQH,EAAIG,MACjBD,KAAKE,OAAS,KACdF,KAAKG,OACHC,MAAS,GACTC,MAAS,MACTC,MAAS,OAETF,MAAS,GACTC,MAAS,OACTC,MAAS,OAETF,MAAS,GACTC,MAAS,QACTC,MAAS,OAETF,MAAS,GACTC,MAAS,OACTC,MAAS,OAEXN,KAAKO,OACLP,KAAKQ,OAAS,8CAIdC,QAAQC,IAAI,QAEZV,KAAKW,OAASC,SAASC,cAAc,OAErCb,KAAKE,OAASU,SAASC,cAAc,UACrCb,KAAKW,OAAOG,YAAYd,KAAKE,QAC7BF,KAAKC,MAAMa,YAAYd,KAAKW,QAE5BX,KAAKe,wBAELf,KAAKgB,0DAKL,IAAMC,EAAIjB,KAAKC,MAAMiB,MAAMC,MACrBC,EAAIpB,KAAKC,MAAMiB,MAAMG,OAG3BrB,KAAKW,OAAOO,MAAMI,SAAU,UAChBL,EADgB,WAEfG,EAFe,iEAO1BG,KAAK,KAAO,IACdvB,KAAKE,OAAOgB,MAAMI,SAAU,+BAEhBL,EAFgB,WAGfG,EAHe,oBAM1BG,KAAK,KAAO,IACdvB,KAAKE,OAAOiB,MAAQK,SAASP,GAC7BjB,KAAKE,OAAOmB,OAASG,SAASJ,qCAI9B,IAAMK,EAAMzB,KAAKE,OAAOwB,WAAW,MAG/BC,EAAI3B,KAAKE,OAAOiB,MAAQ,EACxBS,EAAI5B,KAAKE,OAAOmB,OAAS,EAE7BrB,KAAKQ,OAASmB,EAAI,EAGlB,IAFA,IAAMxB,EAAOH,KAAKG,KACd0B,GAAa,GACTC,EAAI,EAAGA,EAAI3B,EAAK4B,OAAQD,IAAK,CACnCL,EAAIO,YACJP,EAAIQ,OAAON,EAAGC,GAEd,IAAIM,EAAwB,IAAhB/B,EAAK2B,GAAG1B,MAEhB+B,EAAaN,EAAYO,KAAKC,GAAK,IAEnCC,GAAYT,EAAYK,GAASE,KAAKC,GAAK,IAE/CZ,EAAIc,IAAIZ,EAAGC,EAAG5B,KAAKQ,OAAQ2B,EAAYG,GACvCb,EAAIe,YAEJf,EAAIgB,UAAYtC,EAAK2B,GAAGzB,MACxBoB,EAAIiB,OAEJb,GAAaK,EAEbT,EAAIO,iDAMN,IAAM9B,EAASF,KAAKE,OACdyC,EAAO3C,KACbE,EAAO0C,iBAAiB,YAAa,SAASC,GAC5C,IAAIC,EAAWH,EAAKI,YAAY7C,EAAQ2C,GACxCpC,QAAQC,IAAIoC,yCAGJ5C,EAAQ2C,GAClB,IAAIG,EAAO9C,EAAO+C,wBAElB,OADAxC,QAAQC,IAAIsC,IAEVrB,EAAGkB,EAAIK,QAAUF,EAAKG,MAAQjD,EAAOiB,MAAQ6B,EAAK7B,OAClDS,EAAGiB,EAAIO,QAAUJ,EAAKK,KAAOnD,EAAOmB,OAAS2B,EAAK3B,uDASvDxB,EAAIyD,QAAU,QAECzD,QCnHhB0D,GACAC,KAAA,MACArD,KAFA,WAGA,UAEAsD,QALA,WAMA,IAAAC,GACAzD,MAAAW,SAAA+C,eAAA,QAEA,IAAAC,EAAAF,KCnBeG,GADEC,OAFjB,WAA0B9D,KAAa+D,eAAb/D,KAAuCgE,MAAAC,GAAwB,OAA/DjE,KAA+DkE,GAAA,IAExEC,iBADjB,WAAoC,IAAaC,EAAbpE,KAAa+D,eAA0BE,EAAvCjE,KAAuCgE,MAAAC,IAAAG,EAAwB,OAAAH,EAAA,OAAiBI,YAAA,QAAkBJ,EAAA,MAAWI,YAAA,UAA7GrE,KAAiIsE,GAAA,iBAAjItE,KAAiIsE,GAAA,KAAAL,EAAA,OAAgDI,YAAA,iBAA2BJ,EAAA,OAAYI,YAAA,iBAAxNrE,KAAmPsE,GAAA,SAAnPtE,KAAmPsE,GAAA,KAAAL,EAAA,OAAwCI,YAAA,gBAA0BJ,EAAA,OAAYM,aAAapD,MAAA,QAAAE,OAAA,SAAiCmD,OAAQC,GAAA,kBCa3ZC,EAdyBxF,EAAQ,OAcjCyF,CACEpB,EACAM,GATF,EAEA,KAEA,KAEA,MAUee,EAAA,QAAAF,EAAiB,2CCrBhCpF,EAAAM,YAAA,EAEAN,EAAAK,QAAA,SAAAkF,EAAAC,GACA,KAAAD,aAAAC,GACA,UAAAC,UAAA,4DCNA,IAAAC,EAAc9F,EAAQ,QAEtB8F,IAAAC,EAAAD,EAAAE,GAAiChG,EAAQ,QAAgB,UAAcQ,eAAiBR,EAAQ,QAAciG,uCCA9G7F,EAAAM,YAAA,EAEA,IAIAwF,EAJAC,EAAsBnG,EAAQ,QAE9BoG,GAEAF,EAFAC,IAEsCD,EAAAxF,WAAAwF,GAAuCzF,QAAAyF,GAE7E9F,EAAAK,QAAA,WACA,SAAA4F,EAAAC,EAAAC,GACA,QAAA3D,EAAA,EAAmBA,EAAA2D,EAAA1D,OAAkBD,IAAA,CACrC,IAAA4D,EAAAD,EAAA3D,GACA4D,EAAAC,WAAAD,EAAAC,aAAA,EACAD,EAAAE,cAAA,EACA,UAAAF,MAAAG,UAAA,IACA,EAAAP,EAAA3F,SAAA6F,EAAAE,EAAAlG,IAAAkG,IAIA,gBAAAZ,EAAAgB,EAAAC,GAGA,OAFAD,GAAAP,EAAAT,EAAAkB,UAAAF,GACAC,GAAAR,EAAAT,EAAAiB,GACAjB,GAdA","file":"static/js/2.0e5e3b869bfbb5fc1b07.js","sourcesContent":["require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/define-property.js\n// module id = 9bBU\n// module chunks = 0 2","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/define-property.js\n// module id = C4MV\n// module chunks = 0 2","\n/****\n * 饼状图\n * **** **/\n\n class Pie { \n  constructor(opt){\n    this.opt = opt;\n    // console.log(opt.pieId)\n    this.pieId = opt.pieId;\n    this.canvas = null;\n    this.data = [{\n      \"value\": .2,\n      \"color\": \"red\",\n      \"title\": \"大专\"\n  },{\n      \"value\": .4,\n      \"color\": \"blue\",\n      \"title\": \"本科\"\n  },{\n      \"value\": .3,\n      \"color\": \"green\",\n      \"title\": \"硕士\"\n  },{\n      \"value\": .1,\n      \"color\": \"pink\",\n      \"title\": \"博士\"\n  }];\n    this.init();\n    this.radius = 0.5\n    \n  }\n  init(){\n    console.log('init');\n    \n    this.elemet = document.createElement(\"div\");\n   \n    this.canvas = document.createElement(\"canvas\");\n    this.elemet.appendChild(this.canvas);\n    this.pieId.appendChild(this.elemet);\n\n    this.elementAndCanvasStyle();\n\n    this.drawImg(); //绘制图表\n\n    // this.mouseMove();\n  }\n  elementAndCanvasStyle(){\n    const w = this.pieId.style.width;\n    const h = this.pieId.style.height;\n    \n\n    this.elemet.style.cssText = [\n      `width: ${w}`,\n      `height: ${h}`,\n      `padding: 0`,\n      `margin: 0`,\n      `cursor: default`,\n      `position: relative`\n    ].join(';') + ';';\n    this.canvas.style.cssText = [\n      `position: absolute`,\n      `width: ${w}`,\n      `height: ${h}`,\n      `top: 0`,\n      `left: 0`\n    ].join(';') + ';';\n    this.canvas.width = parseInt(w);\n    this.canvas.height = parseInt(h);\n\n  }\n  drawImg(){\n    const ctx = this.canvas.getContext('2d');  //通过getContext获取画图的环境\n    let cont = 0;  //总数\n    let start = 0; //起始弧度\n    let x = this.canvas.width / 2;\n    let y = this.canvas.height / 2; //远点坐标\n    let offset = 0;\n    this.radius = x / 2;\n    const data = this.data;\n    var tempAngle = -90; //定义起始角度\n    for(let i = 0; i < data.length; i ++){\n      ctx.beginPath();\n      ctx.moveTo(x, y); //定义圆心位置\n      //d当前扇形角度\n      let angle = data[i].value * 360;\n      //当前扇形起始绘制弧度\n      let startAngle = tempAngle * Math.PI / 180;\n      //当前扇形借结束绘制弧度\n      let endAngle = (tempAngle + angle) * Math.PI / 180;\n      //绘制扇形\n      ctx.arc(x, y, this.radius, startAngle, endAngle);\n      ctx.closePath();\n      // ctx.stroke();\n      ctx.fillStyle = data[i].color;\n      ctx.fill();\n      //当前扇形结束绘制角度，即下一个扇形开始绘制角度\n      tempAngle += angle;\n\n      ctx.beginPath()\n      \n    }\n\n  }\n  mouseMove(){\n    const canvas = this.canvas;\n    const that = this;\n    canvas.addEventListener(\"mousemove\", function(evt){\n      let mousePos = that.getMousePos(canvas, evt);\n      console.log(mousePos)\n    })\n  }\n  getMousePos(canvas, evt) { \n    var rect = canvas.getBoundingClientRect(); \n    console.log(rect)\n    return { \n      x: evt.clientX - rect.left * (canvas.width / rect.width),\n      y: evt.clientY - rect.top * (canvas.height / rect.height)\n    }\n  }\n\n  setOption(){\n\n  }\n }\n\n Pie.VERSION = '1.0.0'\n\n export default Pie;\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/pie.js","<template>\n  <div class=\"pie\">\n    <h3 class=\"title\">Canvas实现饼状图</h3>\n    <div class=\"widget span6\">\n      <div class=\"widget-title\">饼状图</div>\n      <div class=\"widget-body\"> \n        <div id=\"pie\" style=\"width: 540px;height: 540px;\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Pie from \"@/assets/js/pie\"\nexport default {\n  name: \"Pie\",\n  data(){\n    return {}\n  },\n  mounted(){\n    const options = {\n      pieId: document.getElementById(\"pie\")\n    }\n    const charts = new Pie(options)\n    \n    \n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/view/backstage/pages/Pie.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pie\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"Canvas实现饼状图\")]),_vm._v(\" \"),_c('div',{staticClass:\"widget span6\"},[_c('div',{staticClass:\"widget-title\"},[_vm._v(\"饼状图\")]),_vm._v(\" \"),_c('div',{staticClass:\"widget-body\"},[_c('div',{staticStyle:{\"width\":\"540px\",\"height\":\"540px\"},attrs:{\"id\":\"pie\"}})])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-630cfc56\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/backstage/pages/Pie.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Pie.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Pie.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-630cfc56\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Pie.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/backstage/pages/Pie.vue\n// module id = null\n// module chunks = ","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/classCallCheck.js\n// module id = Zrlr\n// module chunks = 2","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.define-property.js\n// module id = mClu\n// module chunks = 0 2","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/createClass.js\n// module id = wxAW\n// module chunks = 2"],"sourceRoot":""}